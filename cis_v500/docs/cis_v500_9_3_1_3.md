## Description

Disable shared key authorization to enforce the use of Azure AD authentication for storage accounts, providing better security and audit capabilities.

Every secure request to an Azure Storage account must be authorized. By default, requests can be authorized with either Azure AD credentials or using the account access keys for Shared Key authorization. Disabling shared key access forces all clients to use Azure AD authentication, which provides better security controls, audit trails, and integration with conditional access policies.

## Remediation

### From Azure Portal

1. Go to `Storage Accounts`.
2. For each storage account, under `Settings`, click `Configuration`.
3. Under `Allow storage account key access`, select `Disabled`.
4. Click `Save`.

**Note:** Before disabling shared key access, ensure all applications have been migrated to use Azure AD authentication.

### From Azure CLI

```bash
az storage account update --name <storage-account> --resource-group <resource-group> --allow-shared-key-access false
```

### From PowerShell

```bash
Set-AzStorageAccount -ResourceGroupName <resource-group> -Name <storage-account> -AllowSharedKeyAccess $false
```

### Default Value

By default, shared key access is enabled.

