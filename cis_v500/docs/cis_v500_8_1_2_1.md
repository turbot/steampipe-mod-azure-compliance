## Description

Microsoft Defender for APIs provides runtime protection for APIs hosted in Azure API Management, helping to detect and prevent API-based attacks and vulnerabilities.

Defender for APIs provides:
- API security posture management
- Runtime threat detection
- API inventory and discovery
- Sensitive data discovery in APIs
- External attack surface management for APIs

Enabling this plan helps protect against common API threats such as injection attacks, broken authentication, excessive data exposure, and other OWASP API Security Top 10 risks.

## Remediation

### From Azure Portal

1. Go to `Microsoft Defender for Cloud`.
2. Under `Management`, select `Environment settings`.
3. Click on a subscription name.
4. Click `Defender plans` in the left pane.
5. Under `Cloud Workload Protection (CWP)`, locate `APIs` in the Plan column.
6. Set Status to `On`.
7. Select `Save`.

### From Azure CLI

```bash
az security pricing create -n Api --tier 'standard'
```

### From PowerShell

```bash
Set-AzSecurityPricing -Name 'Api' -PricingTier 'Standard'
```

### Default Value

By default, Defender for APIs is disabled.

