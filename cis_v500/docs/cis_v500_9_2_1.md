## Description

Blobs in Azure storage accounts may contain sensitive or personal data, such as ePHI or financial information. Enable soft delete to protect against accidental or malicious deletion.

Soft delete for blobs protects your data by maintaining deleted data in the system for a specified retention period. During the retention period, you can restore a soft-deleted blob to its state at the time it was deleted.

## Remediation

### From Azure Portal

1. Go to `Storage Accounts`.
2. For each storage account, under `Data management`, click `Data protection`.
3. Under `Recovery`, locate `Enable soft delete for blobs`.
4. Check the box to enable soft delete for blobs.
5. Set the retention period in days (recommended minimum: 7 days).
6. Click `Save`.

### From Azure CLI

```bash
az storage account blob-service-properties update --account-name <storage-account> --resource-group <resource-group> --enable-delete-retention true --delete-retention-days <retention-days>
```

### From PowerShell

```bash
Enable-AzStorageBlobDeleteRetentionPolicy -ResourceGroupName <resource-group> -StorageAccountName <storage-account> -RetentionDays <retention-days>
```

### Default Value

Soft delete for blobs may be enabled by default with a 7-day retention period, but this should be verified and configured according to organizational requirements.

