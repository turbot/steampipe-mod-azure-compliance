## Description

Azure DDoS Network Protection should be enabled to protect your virtual networks against volumetric, protocol, and resource layer attacks.

Azure DDoS Protection provides:
- Enhanced DDoS mitigation features
- Always-on traffic monitoring
- Automatic attack mitigation
- Application-layer protection when combined with WAF
- Real-time attack metrics and alerts
- DDoS rapid response support
- Cost protection during attacks

DDoS Protection helps ensure availability of applications and services by defending against large-scale Distributed Denial of Service attacks.

**Note:** Azure DDoS Protection Standard has been retired. The new DDoS Network Protection tier provides similar capabilities with improved integration.

## Remediation

### From Azure Portal

1. Go to `DDoS protection plans`.
2. Click `+ Create`.
3. Complete the creation wizard:
   - Select subscription and resource group
   - Provide a name for the DDoS protection plan
   - Select a region
4. Click `Review + create`, then `Create`.
5. Associate the DDoS protection plan with virtual networks:
   - Go to `Virtual networks`
   - For each critical virtual network, under `DDoS protection`, select `Enable`
   - Select the DDoS protection plan created above
   - Click `Save`

### From Azure CLI

Create a DDoS protection plan:

```bash
az network ddos-protection create \
  --resource-group <resource-group> \
  --name <ddos-plan-name> \
  --location <location>
```

Enable DDoS protection on a virtual network:

```bash
az network vnet update \
  --resource-group <resource-group> \
  --name <vnet-name> \
  --ddos-protection-plan <ddos-plan-id> \
  --ddos-protection true
```

### From PowerShell

```bash
$ddosPlan = New-AzDdosProtectionPlan -ResourceGroupName <resourceGroupName> -Name <ddosPlanName> -Location <location>

$vnet = Get-AzVirtualNetwork -Name <vnetName> -ResourceGroupName <resourceGroupName>
$vnet.DdosProtectionPlan = New-Object Microsoft.Azure.Commands.Network.Models.PSResourceId
$vnet.DdosProtectionPlan.Id = $ddosPlan.Id
$vnet.EnableDdosProtection = $true
$vnet | Set-AzVirtualNetwork
```

### Default Value

DDoS Network Protection is not enabled by default. Only basic DDoS protection is provided at no additional cost.

