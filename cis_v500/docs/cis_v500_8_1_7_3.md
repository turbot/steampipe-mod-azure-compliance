## Description

Turning on Microsoft Defender for Azure SQL Databases enables threat detection for Azure SQL Database and SQL Managed Instance, providing threat intelligence, anomaly detection, and behavior analytics in Microsoft Defender for Cloud.

Defender for Azure SQL Databases provides:
- Detection of SQL injection attacks
- Brute force attack detection
- Anomalous database access patterns
- Potential data exfiltration detection
- Vulnerability assessment

This plan helps protect Azure SQL databases and managed instances against common database threats.

## Remediation

### From Azure Portal

1. Go to `Microsoft Defender for Cloud`.
2. Under `Management`, select `Environment settings`.
3. Click on a subscription name.
4. Click `Defender plans` in the left pane.
5. Under `Cloud Workload Protection (CWP)`, locate `Databases` in the Plan column.
6. Set Status to `On`.
7. Ensure `Azure SQL Databases` is enabled in the database plan settings.
8. Select `Save`.

### From Azure CLI

```bash
az security pricing create -n SqlServers --tier 'standard'
```

### From PowerShell

```bash
Set-AzSecurityPricing -Name 'SqlServers' -PricingTier 'Standard'
```

### Default Value

By default, Defender for Azure SQL Databases is disabled.

